# ✍️ Actividad Práctica: **“Mi Primer Blog Profesional: Desde la Base de Datos hasta los Modelos”**

### 🧩 Escenario Didáctico

📌 *La empresa ficticia “Digital Express”, una agencia de marketing digital, quiere lanzar su propio blog para posicionar su marca y publicar contenidos sobre innovación, diseño y tecnología. Han decidido contratarte como desarrollador backend para crear la estructura base del blog con Laravel.*

------

### 🎓 Propósito de la Actividad

- Comprender la creación de bases de datos utilizando **migraciones** en Laravel.
- Aplicar la estructura de datos mediante **modelos Eloquent** y la inserción inicial con **seeds**.
- Preparar una base sólida para integrar más adelante funcionalidades como vistas, autenticación o comentarios.

### 🛠️ Herramientas Requeridas

- ✅ **Laravel 12**
- ✅ **XAMPP (MySQL y Apache)**
- ✅ **Visual Studio Code**
- ✅ **Navegador Web**

## 🚶 Paso a Paso del Desarrollo

### 🔧 Paso 1: Crear el proyecto Laravel

Abre tu terminal (CMD o PowerShell) y ejecuta:

```bash
cd C:\xampp\htdocs
composer create-project --prefer-dist laravel/laravel blogapp
cd blogapp
```

> 📌 *Si no tienes Laravel instalado, debes hacerlo previamente con Composer.*

### 🗂️ Paso 2: Configurar la conexión a base de datos

1. Abre **XAMPP** y activa **Apache** y **MySQL**.
2. En **phpMyAdmin**, crea una base de datos llamada `blogdb`.
3. Abre el archivo `.env` del proyecto y actualiza:

```bash
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=blogdb
DB_USERNAME=root
DB_PASSWORD=
```

💡 *Este archivo gestiona las variables de entorno como la conexión de base de datos.*

### 📐 Paso 3: Crear las migraciones

Ejecuta:

```bash
php artisan make:migration create_categories_table
php artisan make:migration create_posts_table
```

Edita `create_categories_table.php`:

```bash
public function up()
{
    Schema::create('categories', function (Blueprint $table) {
        $table->id();
        $table->string('name');
        $table->timestamps();
    });
}
```

Edita `create_posts_table.php`:

```bash
public function up()
{
    Schema::create('posts', function (Blueprint $table) {
        $table->id();
        $table->foreignId('category_id')->constrained()->onDelete('cascade');
        $table->string('title');
        $table->text('content');
        $table->timestamps();
    });
}
```

Aplica las migraciones:

```bash
php artisan migrate
```

✅ *Ya tienes la estructura básica del blog: categorías y publicaciones.*

### 🧬 Paso 4: Crear los modelos Eloquent

```bash
php artisan make:model Category
php artisan make:model Post
```

Edita `Category.php`:

```bash
class Category extends Model
{
    use HasFactory;

    public function posts()
    {
        return $this->hasMany(Post::class);
    }
}
```

Edita `Post.php`:

```bash
class Post extends Model
{
    use HasFactory;

    public function category()
    {
        return $this->belongsTo(Category::class);
    }
}
```

🔄 *Estas relaciones permitirán que un post sepa a qué categoría pertenece, y que cada categoría tenga varios posts.*

### 🌱 Paso 5: Crear Seeds para datos de ejemplo

```bash
php artisan make:seeder CategorySeeder
php artisan make:seeder PostSeeder
```

Edita `CategorySeeder.php`:

```php
public function run()
{
    DB::table('categories')->insert([
        ['name' => 'Tecnología'],
        ['name' => 'Negocios'],
        ['name' => 'Diseño']
    ]);
}
```

Edita `PostSeeder.php`:

```php
public function run()
{
    DB::table('posts')->insert([
        'category_id' => 1,
        'title' => 'Laravel 12: Lo nuevo en el framework líder',
        'content' => 'Laravel sigue evolucionando con nuevas funciones de rendimiento...'
    ]);
}
```

Registra los seeders en `DatabaseSeeder.php`:

```php
public function run()
{
    $this->call([
        CategorySeeder::class,
        PostSeeder::class,
    ]);
}
```

Ejecuta los seeders:

```bash
php artisan db:seed
```

### 📊 Verificación y Exploración

Usa Tinker para verificar que los datos existen:

```php
php artisan tinker

>>> App\Models\Post::with('category')->get();
```

Deberías ver los posts con sus respectivas categorías cargadas correctamente. ✅

### 📚 Conocimientos Adquiridos

Al completar esta actividad, el estudiante:

- Comprende la estructura básica de una base de datos relacional en Laravel.
- Es capaz de crear migraciones y relaciones entre modelos.
- Sabe insertar datos iniciales con seeds y validar los modelos con Tinker.
- Visualiza cómo estos elementos interactúan como el backend real de una aplicación profesional.

## 🧾 Conclusión

Esta práctica te permitió conocer la estructura interna de un blog desde el backend. Laravel simplifica mucho la interacción con la base de datos, y ahora ya dominas cómo representar entidades reales como publicaciones y categorías. Estás un paso más cerca de construir tu aplicación funcional con panel de administración y vistas.